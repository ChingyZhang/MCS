<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <link href="~/jquery-easyui-1.4.2/themes/default/easyui.css" rel="stylesheet" />
    <link href="~/jquery-easyui-1.4.2/themes/icon.css" rel="stylesheet" />
    <link href="~/jquery-easyui-1.4.2/demo/demo.css" rel="stylesheet" />
    <script src="~/jquery-easyui-1.4.2/jquery.min.js"></script>
    <script src="~/jquery-easyui-1.4.2/jquery.easyui.min.js"></script>
    @*<script src="~/jquery-easyui-1.4.2/locale/easyui-lang-zh_CN.js"></script>*@
    <script type="text/javascript">



        /**
        * 时间对象的格式化
        */
        Date.prototype.format = function (format) {
            /*
            * format="yyyy-MM-dd hh:mm:ss";
            */
            var o = {
                "M+": this.getMonth() + 1,
                "d+": this.getDate(),
                "h+": this.getHours(),
                "m+": this.getMinutes(),
                "s+": this.getSeconds(),
                "q+": Math.floor((this.getMonth() + 3) / 3),
                "S": this.getMilliseconds()
            }

            if (/(y+)/.test(format)) {
                format = format.replace(RegExp.$1, (this.getFullYear() + "").substr(4
                - RegExp.$1.length));
            }

            for (var k in o) {
                if (new RegExp("(" + k + ")").test(format)) {
                    format = format.replace(RegExp.$1, RegExp.$1.length == 1
                    ? o[k]
                    : ("00" + o[k]).substr(("" + o[k]).length));
                }
            }
            return format;
        }

        var Common = {

            //EasyUI用DataGrid用日期格式化
            TimeFormatter: function (value, row, index) {
                if (value == undefined) {
                    return "";
                }
                /*json格式时间转js时间格式*/
                value = value.substr(1, value.length - 2);
                var obj = eval('(' + "{Date: new " + value + "}" + ')');
                var dateValue = obj["Date"];
                if (dateValue.getFullYear() < 1900) {
                    return "";
                }

                var val = dateValue.format("yyyy-mm-dd HH:MM");
                return val.substr(11, 5);
            },
            DateTimeFormatter: function (value, row, index) {
                if (value == undefined) {
                    return "";
                }
                /*json格式时间转js时间格式*/
                value = value.substr(1, value.length - 2);
                var obj = eval('(' + "{Date: new " + value + "}" + ')');
                var dateValue = obj["Date"];
                if (dateValue.getFullYear() < 1900) {
                    return "";
                }

                return dateValue.format("yyyy-mm-dd HH:MM");
            },

            //EasyUI用DataGrid用日期格式化
            DateFormatter: function (value, row, index) {
                if (value == undefined) {
                    return "";
                }
                /*json格式时间转js时间格式*/
                value = value.substr(1, value.length - 2);
                var obj = eval('(' + "{Date: new " + value + "}" + ')');
                var dateValue = obj["Date"];
                if (dateValue.getFullYear() < 1900) {
                    return "";
                }

                return dateValue.format("yyyy-mm-dd");
            }
        };

        function JsonDateFormat(value2) {
            var value1 = new Date(parseInt(value2.replace("/Date(", "").replace(")/", ""), 10));
            return value1.format("yyyy-MM-dd");
        }
    </script>

    <title>@ViewBag.Title</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>

    <span>这是在RenderBody之前</span>
    <div style="height: 50px;"></div>
    @RenderBody()
    <div style="height: 50px;"></div>
    <span>这是在RenderBody之后</span>
    @*
    引入此语句会导致easyui插件不能正常使用
    @Scripts.Render("~/bundles/jquery")
    
    *@
    @RenderSection("scripts", required: false)
</body>
</html>
